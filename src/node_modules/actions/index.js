import FetchPhonesAPI from 'api/index'
export  const FETCH_PHONE_LOADING = "FETCH_PHONE_LOADING";
export const FETCH_PHONE_SUCCESS = "FETCH_PHONE_SUCCES";
export const FETCH_PHONE_FAILURE = "FETCH_PHONE_FAIL";

const FetchPhoneAC = {type:FETCH_PHONE_LOADING};
const FetchPhoneScAC =(phones) => ({type:FETCH_PHONE_SUCCESS , payload:phones});
const FetchPhoneFlAC =(err)=> ({type:FETCH_PHONE_FAILURE , payload:err , error:true});


export let FetchPhones = () => async (dispatch) => {
    dispatch(FetchPhoneAC)
    try {
        let phones = await FetchPhonesAPI();
        dispatch(FetchPhoneScAC(phones))
    } catch (err) {
        dispatch(FetchPhoneFlAC(err))
    }
}